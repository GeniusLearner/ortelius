<project name="PMD Project">

    <!-- javac class output directory: -->
   
    <property name="reports.dir" value="${wd}/reports/html" />
    
    <property name="pmd.lib.dir" value="${toolDir}/lib/" />
 
    <path id="pmd.classpath">
    	<fileset dir="${pmd.lib.dir}">
        	<include name="*.jar"/>
    	</fileset>
    </path>

    <taskdef name="pmd" classname="net.sourceforge.pmd.ant.PMDTask" classpathref="pmd.classpath"/>
    
    <target name="clean">
	<delete dir="${reports.dir}"/>
    </target>

    <target name="prepare">
	<mkdir dir="${reports.dir}"/>
    </target>
    
    <target name="cleanbuild" depends="clean, prepare">
 	<pmd rulesetfiles="basic" shortFilenames="true">
 		<formatter type="html" toFile="${reports.dir}/report.html"/>
  		<fileset dir="${src}">
   		
   			_INCLUDE_
					   
		   	_EXCLUDE_
		   	
  		</fileset>
 	</pmd>
     </target>
</project>
